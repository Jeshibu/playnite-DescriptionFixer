<UserControl x:Class="DescriptionFixer.DescriptionFixerSettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:set="clr-namespace:DescriptionFixer" d:DataContext="{d:DesignInstance Type=set:DescriptionFixerSettingsViewModel}"
             mc:Ignorable="d"
             d:DesignHeight="400" d:DesignWidth="600">
    <StackPanel Margin="10">
        <TabControl>
            <TabItem Header="Images">
                <StackPanel Margin="5">
                    <GroupBox>
                        <StackPanel Margin="5">

                            <TextBlock Text="Use jpg instead of webp for non-transparent images:"
               Margin="10,0,0,10"/>
                            <CheckBox IsChecked="{Binding Settings.UseJpeg}"
              Margin="25,0,0,10"/>
                            <TextBlock Text="Default Image Quality:"
               Margin="10,0,0,10"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width=".2*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0"
                    Orientation="Horizontal"
                    HorizontalAlignment="Left"
                    Margin="10,0,0,5">
                                    <TextBlock Text="Quality: "
                       VerticalAlignment="Center"/>
                                    <TextBlock Text="{Binding Settings.Quality}"
                       VerticalAlignment="Center"
                       Margin="5,0,0,0"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1">
                                    <Slider x:Name="QualitySlider"
                Minimum="50" 
                Maximum="100"
                Value="{Binding Settings.Quality}"
                TickPlacement="BottomRight"
                TickFrequency="1"
                IsSnapToTickEnabled="True"
                Width="400"
                HorizontalAlignment="Left"
                Margin="25,0,0,5"/>
                                    <Grid Width="400"
                  HorizontalAlignment="Left"
                  Margin="25,0,0,10">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="Smaller files" HorizontalAlignment="Left" />
                                        <TextBlock Text="Balanced" HorizontalAlignment="Center" Grid.Column="1" />
                                        <TextBlock Text="Highest quality" HorizontalAlignment="Right" Grid.Column="2" />
                                    </Grid>
                                </StackPanel>
                            </Grid>

                            <TextBlock Text="Transparency Threshold: A percentage from 80 to 100. This is the alpha value for pixels in the image. For an image to be considered opaque by this extension, all pixels must meet this threshold. 98 is a good default"
               TextWrapping="Wrap"
               Margin="10,0,0,10"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width=".2*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0"
                    Orientation="Horizontal"
                    HorizontalAlignment="Left"
                    Margin="10,0,0,5">
                                    <TextBlock Text="Threshold: "
                   VerticalAlignment="Center"/>
                                    <TextBlock Text="{Binding Settings.TransparencyThreshold}"
                   VerticalAlignment="Center"
                   Margin="5,0,0,0"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1">
                                    <Slider Minimum="80" 
                    Maximum="100" 
                    Value="{Binding Settings.TransparencyThreshold}"
                    TickPlacement="BottomRight"
                    TickFrequency="1"
                    IsSnapToTickEnabled="True"
                    Width="300"
                    HorizontalAlignment="Left"
                    Margin="25,0,0,5"/>
                                    <Grid Width="300"
                  HorizontalAlignment="Left"
                  Margin="25,0,0,10">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="80%" HorizontalAlignment="Left" />
                                        <TextBlock Text="90%" HorizontalAlignment="Center" Grid.Column="1" />
                                        <TextBlock Text="Fully Opaque" HorizontalAlignment="Right" Grid.Column="2" />
                                    </Grid>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </TabItem>
            <TabItem Header="Animations and Emojis">
                <StackPanel Margin="5">
                    <GroupBox Header="Animations">
                        <StackPanel Margin="5">
                            <TextBlock Text="Process animated gifs:"
 Margin="10,0,0,10"/>
                            <CheckBox IsChecked="{Binding Settings.ConvertGifs}"
Margin="25,0,0,10"/>
                            <TextBlock Text="Frame Count: The number of frames you want to be able to select from when replacing animated elements (videos and gifs)."
               TextWrapping="Wrap"
               Margin="10,0,0,10"/>
                            <StackPanel Orientation="Horizontal"
                HorizontalAlignment="Left"
                Margin="25,0,0,5">
                                <TextBlock Text="{Binding Settings.FrameCount}"
                   VerticalAlignment="Center"/>
                                <TextBlock Text=" frames"
                   VerticalAlignment="Center"
                   Margin="5,0,0,0"/>
                                <Slider Minimum="6"
            Maximum="36"
            Width="300"
            HorizontalAlignment="Left"
            TickPlacement="BottomRight"
            TickFrequency="1"
            IsSnapToTickEnabled="True"
            Value="{Binding Settings.FrameCount}"
            Margin="25,0,0,5"/>
                            </StackPanel>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="0" ToolTip="ffprobe is required to process video files. Select the path to your ffprobe.exe."
                                      ToolTipService.ShowOnDisabled="True"
                                      ToolTipService.Placement="Mouse">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="40" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <TextBlock Text="ffprobe path:" Margin="10,0,0,10" Grid.Row="0" Grid.Column="0"/>
                                    <TextBox Text="{Binding Settings.FFprobePath}" Margin="10,0,0,10" Grid.Row="1" Grid.Column="0"/>
                                    <Button Content="…" Command="{Binding FFProbeCommand}" Margin="0,0,10,10" Grid.Row="1" Grid.Column="1"/>
                                    
                                </Grid>
                                <Grid Grid.Column="1" ToolTip="ffmpeg is required to process video files. Select the path to your ffmpeg.exe."
                                      ToolTipService.ShowOnDisabled="True"
                                      ToolTipService.Placement="Mouse">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="40" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <TextBlock Text="ffmpeg path:" Margin="10,0,0,10" Grid.Row="0" Grid.Column="0"/>
                                    <TextBox Text="{Binding Settings.FFmpegPath}" Margin="10,0,0,10" Grid.Row="1" Grid.Column="0"/>
                                    <Button Content="…" Command="{Binding FFMpegCommand}" Margin="0,0,10,10" Grid.Row="1" Grid.Column="1"/>
                                </Grid>
                            </Grid>
                            
                        </StackPanel>
                    </GroupBox>
                    <GroupBox Header="Emojis" Margin="0,10,0,0">
                        <StackPanel Margin="5">
                            <TextBlock Text="Fix broken Emojis:" 
                                       Margin="10,0,0,10"/>
                            <CheckBox IsChecked="{Binding Settings.ReplaceEmojis}" 
                                      Margin="25,0,0,10"/>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </TabItem>
        </TabControl>
    </StackPanel>
</UserControl>